<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.trip97.modules.attraction.model.mapper.AttractionMapper">

	<!-- 드롭다운 불러오기 -->
    <select id = "selectTypeContent" resultType="AttractionContent">
        SELECT *
        FROM attraction_contents
    </select>

    <select id = "selectTypeSido" resultType="Sido">
        SELECT *
        FROM sido
    </select>

    <select id = "selectTypeGugun" parameterType="int" resultType="Gugun">
        SELECT gugun_code, gugun_name
        FROM gugun
        WHERE sido_code = #{sidoCode}
    </select>

	<!-- 관광지 불러오기 -->
    <select id = "selectContentSidoGugun" parameterType="Bounds" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE content_type_id = #{content} AND
              sido_code = #{sidoCode} AND
              gugun_code = #{gugunCode} AND
              latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>

    <select id = "selectContentSido" parameterType="Bounds" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE content_type_id = #{content} AND
              sido_code = #{sidoCode} AND
              latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>

    <select id = "selectContent" parameterType="Bounds" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE content_type_id = #{content} AND
        	  latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>

    <select id = "selectSidoGugun" parameterType="Bounds" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE sido_code = #{sidoCode} AND
              gugun_code = #{gugunCode} AND
              latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>

    <select id = "selectSido" parameterType="Bounds" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE sido_code = #{sidoCode} AND
        	  latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>
    
    <select id = "selectAttractions" parameterType="Bounds" resultType="Attraction">
    	SELECT *
    	FROM attractions
    	WHERE latitude between #{qa} and #{pa} AND
              longitude between #{ha} and #{oa}
    </select>

    <select id = "selectAttractionById" parameterType="int" resultType="Attraction">
        SELECT *
        FROM attractions
        WHERE id = #{attractionId}
    </select>

</mapper>